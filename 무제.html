<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>PersonaLib ë…ì„œ ì„±í–¥ í…ŒìŠ¤íŠ¸</title>

<style>
    :root {
        --brand-green: #0b3d2e;
        --brand-gray: #f5f5f5;
        --text-dark: #222;
        --text-light: #666;
        --radius: 18px;
        --transition: 0.35s ease;
        --shadow: 0 10px 30px rgba(0,0,0,0.15);
    }

    * { margin:0; padding:0; box-sizing:border-box; font-family: 'Inter', sans-serif; }

    body {
        background: var(--brand-gray);
        min-height:100vh;
        display:flex;
        justify-content:center;
        padding:40px 20px;
    }

    .container {
        background:white;
        max-width:520px;
        width:100%;
        padding:40px 30px;
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        animation: fadeIn 1s ease forwards;
    }

    @keyframes fadeIn { from {opacity:0; transform: translateY(20px);} to {opacity:1; transform:translateY(0);} }

    .logo {
        width:160px;
        height: auto;
        margin: 20px auto;
        display: block;
    }

    h1 {
        font-size:26px;
        font-weight:700;
        color: var(--brand-green);
        text-align:center;
        margin-bottom:15px;
    }

    .question-box {
        margin-top:20px;
        padding:25px;
        background:#fff;
        border-radius:var(--radius);
        box-shadow:0 4px 12px rgba(0,0,0,0.08);
        animation: fadeIn 0.8s ease;
    }

    .question {
        font-size:20px;
        font-weight:600;
        color: var(--text-dark);
        margin-bottom:20px;
    }

    .options button {
        width:100%;
        padding:14px;
        border:none;
        border-radius:var(--radius);
        margin-top:10px;
        font-size:16px;
        cursor:pointer;
        background:#e9e9e9;
        transition: var(--transition);
    }
    .options button:hover {
        background:var(--brand-green);
        color:white;
        transform:translateY(-2px);
    }

    .progress {
        height:10px;
        background:#ddd;
        border-radius:20px;
        margin-top:25px;
    }
    .progress-inner {
        height:100%;
        width:0;
        background:var(--brand-green);
        border-radius:20px;
        transition:0.4s ease;
    }

    /* ê²°ê³¼ */
    .result {
        display:none;
        animation: fadeIn 0.8s ease;
    }
    .result h2 { font-size:24px; color:var(--brand-green); font-weight:700; text-align:center; }

    .type-box {
        margin-top:25px;
        padding:25px;
        background:white;
        border-radius:var(--radius);
        box-shadow:0 5px 15px rgba(0,0,0,0.1);
    }

    .books { margin-top:20px; }
    .book {
        background:#fafafa;
        padding:15px;
        margin-top:10px;
        border-radius:var(--radius);
        font-size:15px;
        color:var(--text-dark);
        box-shadow:0 3px 10px rgba(0,0,0,0.05);
    }

    /* ì´ë¯¸ì§€ ì¹´ë“œ */
    #captureArea {
        background:white;
        padding:30px;
        border-radius:var(--radius);
        margin-top:30px;
        display:none;
    }

    .capture-btn {
        margin-top:25px;
        width:100%;
        padding:15px;
        background:var(--brand-green);
        color:white;
        border:none;
        border-radius:var(--radius);
        font-size:16px;
        cursor:pointer;
        transition: var(--transition);
    }
    .capture-btn:hover { opacity:0.85; }

    @media (max-width:480px) {
        .container { padding:25px 20px; }
        h1 { font-size:22px; }
        .question { font-size:18px; }
    }
</style>
</head>

<body>

<div class="container">

    <img src="logo.png" alt="PersonaLib logo" class="logo" />

    <h1>PersonaLib ë…ì„œ ì„±í–¥ í…ŒìŠ¤íŠ¸</h1>

    <!-- ì§ˆë¬¸ ì˜ì—­ -->
    <div id="quiz"></div>

    <!-- ê²°ê³¼ -->
    <div id="result" class="result"></div>

    <!-- ìº¡ì²˜ ì˜ì—­ -->
    <button class="capture-btn" id="saveImageBtn" style="display:none;">ê²°ê³¼ ì´ë¯¸ì§€ ì €ì¥</button>
</div>

<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<script>
/* ----------------------
  ì§ˆë¬¸ (10ë¬¸í•­)
-----------------------*/
const questions = [
    "ì±…ì„ ê³ ë¥¼ ë•Œ ê°€ì¥ ì¤‘ìš”í•œ ìš”ì†ŒëŠ”?",
    "í•˜ë£¨ ë…ì„œ ì‹œê°„ì€?",
    "ìƒˆë¡œìš´ ë¶„ì•¼ ë„ì „ì€?",
    "ì±…ì„ ì½ëŠ” ëª©ì ì€?",
    "ì™„ë… ë¹„ìœ¨ì€?",
    "ì„ í˜¸í•˜ëŠ” ì±… ë¶„ìœ„ê¸°ëŠ”?",
    "ì½ê¸° íŒ¨í„´ì€?",
    "ì±… êµ¬ë§¤ ë¹ˆë„ëŠ”?",
    "ì½ì€ ì±… ê¸°ë¡ì€?",
    "ì±…ì„ ì¶”ì²œë°›ëŠ” ë°©ì‹ì€?"
];

const answers = [
    ["ì‘ê°€ ì¤‘ì‹¬", "ë² ìŠ¤íŠ¸ì…€ëŸ¬ ìœ„ì£¼", "í‘œì§€/ë””ìì¸", "ì£¼ì œ ì˜ì¡´"],
    ["10ë¶„ ì´í•˜", "30ë¶„~1ì‹œê°„", "1~2ì‹œê°„", "2ì‹œê°„ ì´ìƒ"],
    ["ê±°ì˜ ì•ˆí•¨", "ê°€ë”", "ìì£¼", "í•­ìƒ"],
    ["íœ´ì‹", "ì§€ì‹ ìŠµë“", "ìê¸°ê³„ë°œ", "ëª°ì…/ê°ì •"],
    ["50% ì´í•˜", "70%", "90%", "í•­ìƒ ì™„ë…"],
    ["íë§/ì”ì”", "í˜„ì‹¤/ì‚¬íšŒ", "ì² í•™ì /ê¹Šì´", "íŒíƒ€ì§€/ì„œì‚¬"],
    ["ëª°ì•„ì„œ ì½ê¸°", "í‹ˆí‹ˆì´", "ê³„íšì ", "ëœë¤"],
    ["ê±°ì˜ ì•ˆì‚¼", "ê°€ë”", "ì •ê¸°ì ", "ìì£¼ ì¶©ë™êµ¬ë§¤"],
    ["ì•ˆí•¨", "ê°„ë‹¨ ë©”ëª¨", "ì •ë¦¬í•¨", "ì‹¬ì¸µ ê¸°ë¡"],
    ["SNS", "ì§€ì¸", "ì•Œê³ ë¦¬ì¦˜", "ìŠ¤ìŠ¤ë¡œ íƒìƒ‰"]
];

/* 12ìœ í˜• ì ìˆ˜ ë§µ */
const types = {
    "ì‚¬ìƒ‰ê°€í˜•":0, "íƒí—˜ê°€í˜•":0, "ì§€ì‹í˜•":0, "ê°ì„±í˜•":0,
    "ëª°ì…í˜•":0, "ì „ëµí˜•":0, "íœ´ì‹í˜•":0, "ìˆ˜ì§‘ê°€í˜•":0,
    "ê³„íší˜•":0, "ê°ê°í˜•":0, "ë„ì „í˜•":0, "ìê¸°ê³„ë°œí˜•":0
};

/* ì¶”ì²œì±… */
const bookList = {
    "ì‚¬ìƒ‰ê°€í˜•":["ëª…ìƒë¡","í˜¸ëª¨ ë°ìš°ìŠ¤","ì‹œê³¨ ë¹µì§‘ì—ì„œ ìë³¸ë¡ ì„ êµ½ë‹¤","ì°¸ì„ ìˆ˜ ì—†ëŠ” ì¡´ì¬ì˜ ê°€ë²¼ì›€","ì£½ìŒì— ê´€í•˜ì—¬"],
    "íƒí—˜ê°€í˜•":["ì´ê°ˆë¦¬ì•„ì˜ ë”¸ë“¤","ì´ ê·  ì‡ ","ì‚¬í”¼ì—”ìŠ¤","ë‚˜ë¯¸ì•¼ ì¡í™”ì ","ì •ì˜ë€ ë¬´ì—‡ì¸ê°€"],
    "ì§€ì‹í˜•":["ì½”ìŠ¤ëª¨ìŠ¤","ì‹œê°„ì˜ ì—­ì‚¬","ìˆ˜í•™ìê°€ ë“¤ë ¤ì£¼ëŠ” ì´ì•¼ê¸°","íŠ¸ë Œë“œ ì½”ë¦¬ì•„","ì„¸ìƒì€ ë°ì´í„°ë¡œ"],
    "ê°ì„±í˜•":["ì•„ëª¬ë“œ","í•˜ëŠ˜ê³¼ ë°”ëŒê³¼ ë³„ê³¼ ì‹œ","ë°¤ì˜ ì—¬í–‰ìë“¤","í˜ì¸íŠ¸","ëª¨ìˆœ"],
    "ëª°ì…í˜•":["í•´ë¦¬í¬í„°","ì™•ì¢Œì˜ ê²Œì„","ë°˜ì§€ì˜ ì œì™•","ë‚˜ë‹ˆì•„ ì—°ëŒ€ê¸°","íŒŒìš´ë°ì´ì…˜"],
    "ì „ëµí˜•":["ì›ì”½","ì•„ì›ƒë¼ì´ì–´","í•µì‹¬ë§Œ ê°„ë‹¨íˆ ì„¤ëª…í•œ íˆ¬ì","ê·¸ë¡œìŠ¤ í•´í‚¹","ì´ˆì§‘ì¤‘"],
    "íœ´ì‹í˜•":["ì ê¹ ì‰¬ì–´ê°€ë„ ì¢‹ì•„","ê¸°ë¶„ì´ íƒœë„ê°€ ë˜ì§€ ì•Šê²Œ","ì¡°ìš©í•œ í˜","ì‹ë¬¼ì˜ ìœ„ë¡œ","ìƒŒë“œìœ„ì¹˜ì˜ ë¹„ë°€"],
    "ìˆ˜ì§‘ê°€í˜•":["ë‚´ê°€ ì‚¬ë‘í•œ ëª¨ë“  ì±…ë“¤","ë¶ ìœ íŠœë²„ ì¶”ì²œ ëª©ë¡","ì„¸ê³„ì˜ ì±…ë°©","ë…ì„œ ê¸°ë¡ì˜ ê¸°ìˆ ","ê³ ì „ 50"],
    "ê³„íší˜•":["í•˜ë£¨ 1í˜ì´ì§€","íƒ€ì´íƒ„ì˜ ë„êµ¬ë“¤","ì—ì„¼ì…œë¦¬ì¦˜","7ê°€ì§€ ìŠµê´€","ë©”ëª¨ì˜ ë§ˆë²•"],
    "ê°ê°í˜•":["ë¯¸ë‹ˆë©€ë¦¬ìŠ¤íŠ¸","ë””ìì¸ ì˜¤ë¸Œ ë””ìì¸","ì»¬ëŸ¬ì˜ í˜","ì˜¤ë¸Œì œì˜ ì„¸ê³„","ìƒˆë¡œìš´ ì·¨í–¥"],
    "ë„ì „í˜•":["ë„ì „ì˜ ê¸°ìˆ ","ì‹¤íŒ¨ì˜ íƒ„ìƒ","ìš©ê¸°ì˜ ì •ì¹˜í•™","ë‚˜ëŠ” ìœ„í—˜í•œ ì‚¬ëŒì…ë‹ˆë‹¤","ë°°ì›€ì˜ ë°œê²¬"],
    "ìê¸°ê³„ë°œí˜•":["ì–´ë¥¸ì˜ ë¬¸í•´ë ¥","ìê¸° í˜ëª…","ë‘ ë²ˆì§¸ ì‚°","ë©˜íƒˆì„ ë°”ê¿”ë¼","ì‘ì‹¬ì‚¼ì¼ íƒˆì¶œ"]
};

/* ----------------------------
   UI ë Œë”ë§
----------------------------- */
let index = 0;
const quizBox = document.getElementById("quiz");
const resultBox = document.getElementById("result");

renderQuestion();

function renderQuestion(){
    quizBox.innerHTML = `
        <div class="question-box">
            <div class="question">${index+1}. ${questions[index]}</div>
            <div class="options">
                ${answers[index].map((opt,i)=>`<button onclick="selectAnswer(${i})">${opt}</button>`).join("")}
            </div>
            <div class="progress"><div class="progress-inner" style="width:${(index/10)*100}%"></div></div>
        </div>
    `;
}

function selectAnswer(num) {
    const keys = Object.keys(types);
    types[keys[(index+num)%12]] += 1;

    index++;
    if(index<10) renderQuestion();
    else showResult();
}

/* ----------------------------
   ê²°ê³¼ í‘œì‹œ + ì´ë¯¸ì§€ ì¹´ë“œ ìƒì„±
----------------------------- */
function showResult(){
    quizBox.style.display="none";

    let topType = Object.entries(types).sort((a,b)=>b[1]-a[1])[0][0];

    resultBox.style.display="block";
    resultBox.innerHTML = `
        <h2>ë‹¹ì‹ ì˜ ë…ì„œ ì„±í–¥ì€<br>ã€${topType}ã€</h2>

        <div class="type-box">
            <h3 style="margin-bottom:10px;">ğŸ“š ì¶”ì²œ ë„ì„œ 5ê¶Œ</h3>
            <div class="books">
                ${bookList[topType].map(book=>`<div class="book">${book}</div>`).join("")}
            </div>
        </div>

        <div id="captureArea">
            <h2>ğŸ“š PersonaLib ë…ì„œ ì„±í–¥ ê²°ê³¼</h2>
            <p style="margin-top:10px;font-weight:600;font-size:20px;color:var(--brand-green);">
                ${topType}
            </p>
            ${bookList[topType].map(book=>`<div class="book">${book}</div>`).join("")}
        </div>
    `;

    document.getElementById("saveImageBtn").style.display="block";
}

/* ì´ë¯¸ì§€ ì €ì¥ */
document.getElementById("saveImageBtn").addEventListener("click",()=>{
    const area = document.getElementById("captureArea");
    html2canvas(area).then(canvas=>{
        const link = document.createElement("a");
        link.download = "PersonaLib_result.png";
        link.href = canvas.toDataURL();
        link.click();
    });
});
</script>
</body>
</html>
